namespace = knightly

#Taking a squire
character_event = {
	id = knightly.001
	desc = "161001_desc"
	picture = GFX_evt_child_sword
	is_triggered_only = yes
	option = {
		name = knightly.001.1
		ai_chance = {
			factor = 100
		}
		FROM = {
			add_trait = squire
			prestige = 10
			opinion = {
				modifier = opinion_squired_me
				who = ROOT
			}
		}
	}
}

#Knighting a character
character_event = {
	id = knightly.002
	desc = "161002_desc"
	picture = GFX_event_knighthood1
	is_triggered_only = yes
	option = {
		name = knightly.002.1
		ai_chance = {
			factor = 100
		}
		FROM = {
			add_trait = knight
			prestige = 100
			opinion = {
				modifier = opinion_knighted_me
				who = ROOT
			}
		}
	}
}

#Knighting a squire
character_event = {
	id = knightly.003
	desc = "161003_desc"
	picture = GFX_event_knighthood1
	is_triggered_only = yes
	trigger = {
		trait = squire
		age = 16
	}
	option = {
		name = knightly.003.1
		ai_chance = {
			factor = 100
		}
		FROM = {
			remove_trait = squire
			add_trait = knight
			prestige = 100
			opinion = {
				modifier = opinion_knighted_me
				who = ROOT
			}
		}
	}
}

#Arranging Knighthood
character_event = {
	id = knightly.004
	desc = "161004_desc"
	picture = GFX_event_knighthood1
	is_triggered_only = yes
	option = {
		name = knightly.004.1
		ai_chance = {
			factor = 100
		}
		FROM = {
			add_trait = knight
			remove_trait = squire
			prestige = 100
		}
	}
}

#Knighted after battle
character_event = {
	id = knightly.005
	desc = "161005_desc"
	picture = GFX_event_knighthood1
	is_triggered_only = yes
		
	trigger = {
		in_command = yes
		in_battle = yes
		religion_group = christian
		martial = 10
		NOT = { trait = knight }
		NOT = {
			OR = {
				trait = craven
				trait = infirm
				trait = inbred
			}
		}
	}

	option = {
		name = knightly.005.1
		ai_chance = {
			factor = 100
		}
		ROOT = {
			add_trait = knight
			prestige = 150
		}
	}
}

#That's "Sir" to you, ma'am!
character_event = {
	id = knightly.006
	hide_window = yes

	is_triggered_only = yes
		
	trigger = {
		trait = knight
		NOT = {
			has_minor_title = title_knight
		}
	}

	option = {
		name = knightly.006.1
		give_minor_title = title_knight
	}
}